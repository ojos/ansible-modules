---
  packer_directory: "{{ orchestration_directory }}/packer"
  packer_home_directory: "$ORCHESTRATION_HOME/packer"
  packer_user: "{{ project_user }}"
  packer_group: "{{ project_group }}"
  packer_envrc_directory: "{{ direnv_envrc_directory }}"
  packer_template_file: "{{ packer_directory }}/templates.json"
  packer_ansible_main_role_name: "{{ xbuild_ansible_main_role_name }}"
  packer_playbook_file_name: "app.yml"
  packer_playbook_file: "{{ xbuild_ansible_directory }}/{{ packer_playbook_file_name }}"
  packer_aws_type: amazon-ebs
  packer_aws_ami: "$AWS_DEFAULT_EC2_AMI"
  packer_aws_instance_type: t2.micro
  packer_aws_subnet_id: SUBNET_ID
  packer_aws_username: ec2-user
  packer_staging_directory: /tmp/ansible-local
  packer_roles_source: "$DEFAULT_ROLES_PATH"
  packer_roles_directory: "$PACKER_ANSIBLE_STAGING_DIRECTORY/roles"
  packer_playbook: "$ANSIBLE_HOME/{{ packer_playbook_file_name }}"
  packer_environment_variables: 
    - value: "# packer"
      regexp: "^# packer$"
    - value: "export PACKER_HOME={{ packer_home_directory }}"
      regexp: "^export PACKER_HOME"
    - value: "export PACKER_AWS_TYPE={{ packer_aws_type }}"
      regexp: "^export PACKER_AWS_TYPE"
    - value: "export PACKER_AWS_AMI={{ packer_aws_ami }}"
      regexp: "^export PACKER_AWS_AMI"
    - value: "export PACKER_AWS_INSTANCE_TYPE={{ packer_aws_instance_type }}"
      regexp: "^export PACKER_AWS_INSTANCE_TYPE"
    - value: "export PACKER_AWS_SUBNET_ID={{ packer_aws_subnet_id }}"
      regexp: "^export PACKER_AWS_SUBNET_ID"
    - value: "export PACKER_AWS_USERNAME={{ packer_aws_username }}"
      regexp: "^export PACKER_AWS_USERNAME"
    - value: "export PACKER_ANSIBLE_STAGING_DIRECTORY={{ packer_staging_directory }}"
      regexp: "^export PACKER_ANSIBLE_STAGING_DIRECTORY"
    - value: "export PACKER_ANSIBLE_ROLES_SOURCE={{ packer_roles_source }}"
      regexp: "^export PACKER_ANSIBLE_ROLES_SOURCE"
    - value: "export PACKER_ANSIBLE_ROLES_DIRECTORY={{ packer_roles_directory }}"
      regexp: "^export PACKER_ANSIBLE_ROLES_DIRECTORY"
    - value: |
        export PACKER_PLAYBOOK={{ packer_playbook }}

      regexp: "^export PACKER_PLAYBOOK"